<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>미리캔버스 키워드 Lab - 업로드 도우미</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap');
        body { font-family: 'Pretendard', sans-serif; background-color: #f3f4f6; }
        .copy-toast { visibility: hidden; min-width: 200px; margin-left: -100px; background-color: #333; color: #fff; text-align: center; border-radius: 8px; padding: 12px; position: fixed; z-index: 1; left: 50%; bottom: 30px; }
        .copy-toast.show { visibility: visible; animation: fadein 0.5s, fadeout 0.5s 2.5s; }
        @keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
        @keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-5xl mx-auto">
        <div class="flex items-center justify-between mb-8 bg-white p-6 rounded-2xl shadow-sm">
            <div>
                <h1 class="text-2xl font-bold text-indigo-600 tracking-tight">
                    <i class="fas fa-rocket mr-2"></i>미리캔버스 업로드 도우미
                </h1>
                <p class="text-sm text-gray-500 mt-1">디자인허브 키워드 최적화 및 간편 복사 도구</p>
            </div>
            <div class="hidden md:block">
                <span class="bg-indigo-50 text-indigo-700 px-3 py-1 rounded-full text-xs font-semibold">Local v1.0</span>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="lg:col-span-1 space-y-6">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                    <label class="block text-sm font-semibold text-gray-700 mb-2">중심 키워드</label>
                    <input type="text" id="keywordInput" placeholder="예: 크리스마스, 비즈니스" 
                           class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:outline-none mb-4">
                    
                    <button onclick="analyzeKeyword()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-xl font-bold transition-all mb-2">
                        키워드 추출하기
                    </button>
                </div>

                <div id="copySection" class="hidden bg-indigo-900 p-6 rounded-2xl shadow-lg text-white">
                    <h3 class="font-bold mb-3 flex items-center">
                        <i class="fas fa-paste mr-2"></i> 원클릭 복사 (디자인허브용)
                    </h3>
                    <div class="space-y-3">
                        <div>
                            <p class="text-xs text-indigo-300 mb-1">태그 (쉼표 구분)</p>
                            <div class="flex gap-2">
                                <input type="text" id="tagOutput" readonly class="w-full bg-indigo-800 border-none rounded-lg text-xs p-2 focus:outline-none">
                                <button onclick="copyToClipboard('tagOutput')" class="bg-white text-indigo-900 px-3 py-1 rounded-lg text-xs font-bold shrink-0">복사</button>
                            </div>
                        </div>
                        <div>
                            <p class="text-xs text-indigo-300 mb-1">추천 제목</p>
                            <div class="flex gap-2">
                                <input type="text" id="titleOutput" readonly class="w-full bg-indigo-800 border-none rounded-lg text-xs p-2 focus:outline-none">
                                <button onclick="copyToClipboard('titleOutput')" class="bg-white text-indigo-900 px-3 py-1 rounded-lg text-xs font-bold shrink-0">복사</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-2">
                <div id="loading" class="hidden bg-white p-20 rounded-2xl shadow-sm text-center">
                    <div class="animate-spin rounded-full h-10 w-10 border-4 border-indigo-500 border-t-transparent mx-auto"></div>
                    <p class="mt-4 text-gray-500 font-medium">실시간 키워드 분석 중...</p>
                </div>

                <div id="resultSection" class="hidden bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
                    <div class="p-4 border-b border-gray-50 bg-gray-50/50 flex justify-between items-center">
                        <span class="text-sm font-bold text-gray-700">분석 결과 리스트</span>
                        <p class="text-xs text-gray-400">키워드 클릭 시 해당 단어만 복사됩니다.</p>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left border-collapse">
                            <thead>
                                <tr class="text-xs text-gray-500 uppercase">
                                    <th class="p-4 font-semibold">키워드</th>
                                    <th class="p-4 font-semibold">검색량</th>
                                    <th class="p-4 font-semibold">경쟁도</th>
                                    <th class="p-4 font-semibold">추천도</th>
                                </tr>
                            </thead>
                            <tbody id="resultBody" class="text-sm"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="toast" class="copy-toast">클립보드에 복사되었습니다!</div>

    <script>
        let currentKeywords = [];

        function analyzeKeyword() {
            const input = document.getElementById('keywordInput').value.trim();
            if (!input) {
                alert('키워드를 입력해 주세요.');
                return;
            }

            document.getElementById('loading').classList.remove('hidden');
            document.getElementById('resultSection').classList.add('hidden');
            document.getElementById('copySection').classList.add('hidden');

            // 분석 로직 시뮬레이션
            setTimeout(() => {
                const results = [
                    { kw: `${input} 배경`, vol: '12,400', comp: '낮음', star: '⭐⭐⭐⭐⭐' },
                    { kw: `${input} 일러스트`, vol: '8,900', comp: '중간', star: '⭐⭐⭐⭐' },
                    { kw: `귀여운 ${input}`, vol: '5,200', comp: '낮음', star: '⭐⭐⭐⭐⭐' },
                    { kw: `${input} 아이콘`, vol: '3,100', comp: '낮음', star: '⭐⭐⭐⭐' },
                    { kw: `심플한 ${input}`, vol: '2,800', comp: '중간', star: '⭐⭐⭐' },
                    { kw: `${input} 템플릿`, vol: '11,000', comp: '높음', star: '⭐⭐⭐' },
                    { kw: `무료 ${input}`, vol: '15,000', comp: '높음', star: '⭐⭐' }
                ];
                
                currentKeywords = results.map(r => r.kw);
                renderTable(results);
                
                // 디자인허브 전용 텍스트 생성
                document.getElementById('tagOutput').value = currentKeywords.join(', ');
                document.getElementById('titleOutput').value = `${input} 관련 디자인 요소 세트`;
                
                document.getElementById('loading').classList.add('hidden');
                document.getElementById('resultSection').classList.remove('hidden');
                document.getElementById('copySection').classList.remove('hidden');
            }, 600);
        }

        function renderTable(data) {
            const body = document.getElementById('resultBody');
            body.innerHTML = '';
            data.forEach(item => {
                const row = `
                    <tr class="hover:bg-indigo-50/50 cursor-pointer transition-colors" onclick="copyText('${item.kw}')">
                        <td class="p-4 border-b font-semibold text-indigo-600">${item.kw}</td>
                        <td class="p-4 border-b text-gray-600">${item.vol}</td>
                        <td class="p-4 border-b">
                            <span class="px-2 py-1 rounded text-xs ${item.comp === '낮음' ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'}">${item.comp}</span>
                        </td>
                        <td class="p-4 border-b">${item.star}</td>
                    </tr>
                `;
                body.innerHTML += row;
            });
        }

        function copyToClipboard(elementId) {
            const copyText = document.getElementById(elementId);
            copyText.select();
            copyText.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(copyText.value);
            showToast();
        }

        function copyText(text) {
            navigator.clipboard.writeText(text);
            showToast();
        }

        function showToast() {
            const toast = document.getElementById("toast");
            toast.className = "copy-toast show";
            setTimeout(() => { toast.className = toast.className.replace("show", ""); }, 3000);
        }
    </script>
</body>
</html>